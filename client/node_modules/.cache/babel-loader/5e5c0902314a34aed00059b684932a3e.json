{"ast":null,"code":"class Spotify {\n  static retrieveAccessToken() {\n    const access = localStorage.getItem('access');\n\n    if (!access) {\n      throw new Error('No access token found');\n    }\n\n    const {\n      token\n    } = JSON.parse(access);\n    return token;\n  }\n\n  static async getSearchResults(query) {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=show,episode&limit=50`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return result;\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n  static async getShowDetails(id) {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/shows/${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return result;\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n  static async getEpisodeDetails(id) {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/episodes/${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return result;\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n  static async getUserProfile() {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/me`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return result;\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n  static async getUserShows() {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/me/shows?limit=50`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return result;\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n  static async checkUserShow(id) {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/me/shows/contains?ids=${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return result[0];\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n  static async saveUserShow(id) {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/me/shows?ids=${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        },\n        method: 'PUT'\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return true;\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n  static async removeUserShow(id) {\n    const token = this.retrieveAccessToken();\n\n    try {\n      const response = await fetch(`https://api.spotify.com/v1/me/shows?ids=${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        },\n        method: 'DELETE'\n      });\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error.message);\n      } else {\n        return true;\n      }\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n\n}\n\nexport default Spotify;","map":{"version":3,"sources":["/Users/kamil.muzyka/Desktop/podcastify/src/models/Spotify.js"],"names":["Spotify","retrieveAccessToken","access","localStorage","getItem","Error","token","JSON","parse","getSearchResults","query","response","fetch","headers","result","json","ok","error","message","err","getShowDetails","id","getEpisodeDetails","getUserProfile","getUserShows","checkUserShow","saveUserShow","method","removeUserShow"],"mappings":"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","sourcesContent":["class Spotify {\n    static retrieveAccessToken() {\n        const access = localStorage.getItem('access');\n        if (!access) {\n            throw new Error('No access token found');\n        }\n        const { token } = JSON.parse(access);\n        return token;\n    }\n\n    static async getSearchResults(query) {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=show,episode&limit=50`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return result;\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    static async getShowDetails(id) {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/shows/${id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return result;\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    static async getEpisodeDetails(id) {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/episodes/${id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return result;\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    static async getUserProfile() {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/me`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return result;\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    static async getUserShows() {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/me/shows?limit=50`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return result;\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    static async checkUserShow(id) {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/me/shows/contains?ids=${id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return result[0];\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    static async saveUserShow(id) {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/me/shows?ids=${id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                },\n                method: 'PUT'\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return true;\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    static async removeUserShow(id) {\n        const token = this.retrieveAccessToken();\n        try {\n            const response = await fetch(`https://api.spotify.com/v1/me/shows?ids=${id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                },\n                method: 'DELETE'\n            });\n            const result = await response.json();\n            if (!response.ok) {\n                throw new Error(result.error.message);\n            } else {\n                return true;\n            }\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n}\n\nexport default Spotify;"]},"metadata":{},"sourceType":"module"}