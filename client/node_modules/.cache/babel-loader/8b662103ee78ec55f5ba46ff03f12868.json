{"ast":null,"code":"class Spotify {\n  static retrieveToken() {\n    const {\n      token\n    } = JSON.parse(localStorage.getItem('access'));\n    return token;\n  }\n\n  static async getSearchResults(query) {\n    const token = this.retrieveToken();\n    console.log(token);\n\n    if (!token) {\n      throw new Error('Not token provided');\n    }\n\n    try {\n      const data = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=show,episode&limit=50`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      return await data.json();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  static async getShowDetails(id) {\n    const token = this.retrieveToken();\n\n    if (!token) {\n      return;\n    }\n\n    try {\n      const data = await fetch(`https://api.spotify.com/v1/shows/${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      return await data.json();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  static async getUserProfile() {\n    const token = this.retrieveToken();\n\n    if (!token) {\n      return;\n    }\n\n    try {\n      const data = await fetch(`https://api.spotify.com/v1/me`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const results = await data.json();\n      return results;\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n}\n\nexport default Spotify;","map":{"version":3,"sources":["/Users/kamil.muzyka/Desktop/podcastify/src/models/Spotify.js"],"names":["Spotify","retrieveToken","token","JSON","parse","localStorage","getItem","getSearchResults","query","console","log","Error","data","fetch","headers","json","err","error","getShowDetails","id","getUserProfile","results"],"mappings":"AAAA,MAAMA,OAAN,CAAc;AAEV,SAAOC,aAAP,GAAuB;AACnB,UAAM;AAAEC,MAAAA;AAAF,QAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAlB;AACA,WAAOJ,KAAP;AACH;;AAED,eAAaK,gBAAb,CAA8BC,KAA9B,EAAqC;AACjC,UAAMN,KAAK,GAAG,KAAKD,aAAL,EAAd;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;;AAEA,QAAI,CAACA,KAAL,EAAY;AACR,YAAM,IAAIS,KAAJ,CAAU,oBAAV,CAAN;AACH;;AAED,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMC,KAAK,CAAE,uCAAsCL,KAAM,6BAA9C,EAA4E;AAChGM,QAAAA,OAAO,EAAE;AACL,2BAAiB,YAAYZ;AADxB;AADuF,OAA5E,CAAxB;AAKA,aAAO,MAAMU,IAAI,CAACG,IAAL,EAAb;AACH,KAPD,CAOE,OAAOC,GAAP,EAAY;AACVP,MAAAA,OAAO,CAACQ,KAAR,CAAcD,GAAd;AACH;AACJ;;AAED,eAAaE,cAAb,CAA4BC,EAA5B,EAAgC;AAC5B,UAAMjB,KAAK,GAAG,KAAKD,aAAL,EAAd;;AAEA,QAAI,CAACC,KAAL,EAAY;AACR;AACH;;AAED,QAAI;AACA,YAAMU,IAAI,GAAG,MAAMC,KAAK,CAAE,oCAAmCM,EAAG,EAAxC,EAA2C;AAC/DL,QAAAA,OAAO,EAAE;AACL,2BAAiB,YAAYZ;AADxB;AADsD,OAA3C,CAAxB;AAKA,aAAO,MAAMU,IAAI,CAACG,IAAL,EAAb;AACH,KAPD,CAOE,OAAOC,GAAP,EAAY;AACVP,MAAAA,OAAO,CAACQ,KAAR,CAAcD,GAAd;AACH;AACJ;;AAED,eAAaI,cAAb,GAA8B;AAC1B,UAAMlB,KAAK,GAAG,KAAKD,aAAL,EAAd;;AAEA,QAAI,CAACC,KAAL,EAAY;AACR;AACH;;AAED,QAAI;AACA,YAAMU,IAAI,GAAG,MAAMC,KAAK,CAAE,+BAAF,EAAkC;AACtDC,QAAAA,OAAO,EAAE;AACL,2BAAiB,YAAYZ;AADxB;AAD6C,OAAlC,CAAxB;AAKA,YAAMmB,OAAO,GAAG,MAAMT,IAAI,CAACG,IAAL,EAAtB;AACA,aAAOM,OAAP;AACH,KARD,CAQE,OAAOL,GAAP,EAAY;AACVP,MAAAA,OAAO,CAACQ,KAAR,CAAcD,GAAd;AACH;AACJ;;AAhES;;AAmEd,eAAehB,OAAf","sourcesContent":["class Spotify {\n\n    static retrieveToken() {\n        const { token } = JSON.parse(localStorage.getItem('access'));\n        return token;\n    }\n\n    static async getSearchResults(query) {\n        const token = this.retrieveToken();\n        console.log(token);\n\n        if (!token) {\n            throw new Error('Not token provided');\n        }\n\n        try {\n            const data = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=show,episode&limit=50`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            return await data.json();\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    static async getShowDetails(id) {\n        const token = this.retrieveToken();\n\n        if (!token) {\n            return;\n        }\n\n        try {\n            const data = await fetch(`https://api.spotify.com/v1/shows/${id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            return await data.json();\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    static async getUserProfile() {\n        const token = this.retrieveToken();\n\n        if (!token) {\n            return;\n        }\n\n        try {\n            const data = await fetch(`https://api.spotify.com/v1/me`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const results = await data.json();\n            return results;\n        } catch (err) {\n            console.error(err);\n        }\n    }\n}\n\nexport default Spotify;"]},"metadata":{},"sourceType":"module"}