{"ast":null,"code":"class Spotify {\n  static retrieveToken() {\n    if (localStorage.getItem('access')) {\n      const {\n        token\n      } = JSON.parse(localStorage.getItem('access'));\n      return token ? token : false;\n    }\n\n    return false;\n  }\n\n  static async getSearchResults(query) {\n    const token = this.retrieveToken();\n\n    if (!token) {\n      return;\n    }\n\n    try {\n      const data = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=show,episode&limit=10`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const results = await data.json();\n      return results;\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  static async getDetails(id, type) {\n    const token = this.retrieveToken();\n\n    if (!token) {\n      return;\n    }\n\n    try {\n      const data = await fetch(`https://api.spotify.com/v1/${type}s/${id}`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const results = await data.json();\n      return results;\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  static async getUserProfile() {\n    const token = this.retrieveToken();\n\n    if (!token) {\n      return;\n    }\n\n    try {\n      const data = await fetch(`https://api.spotify.com/v1/me`, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const results = await data.json();\n      return results;\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n}\n\nexport default Spotify;","map":{"version":3,"sources":["/Users/kamil.muzyka/Desktop/podcastify/src/models/Spotify.js"],"names":["Spotify","retrieveToken","localStorage","getItem","token","JSON","parse","getSearchResults","query","data","fetch","headers","results","json","err","console","error","getDetails","id","type","getUserProfile"],"mappings":"AAAA,MAAMA,OAAN,CAAc;AAEV,SAAOC,aAAP,GAAuB;AACnB,QAAIC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAJ,EAAoC;AAChC,YAAM;AACFC,QAAAA;AADE,UAEFC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAFJ;AAGA,aAAOC,KAAK,GAAGA,KAAH,GAAW,KAAvB;AACH;;AACD,WAAO,KAAP;AACH;;AAED,eAAaG,gBAAb,CAA8BC,KAA9B,EAAqC;AACjC,UAAMJ,KAAK,GAAG,KAAKH,aAAL,EAAd;;AAEA,QAAI,CAACG,KAAL,EAAY;AACR;AACH;;AAED,QAAI;AACA,YAAMK,IAAI,GAAG,MAAMC,KAAK,CAAE,uCAAsCF,KAAM,6BAA9C,EAA4E;AAChGG,QAAAA,OAAO,EAAE;AACL,2BAAiB,YAAYP;AADxB;AADuF,OAA5E,CAAxB;AAKA,YAAMQ,OAAO,GAAG,MAAMH,IAAI,CAACI,IAAL,EAAtB;AACA,aAAOD,OAAP;AACH,KARD,CAQE,OAAOE,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH;AACJ;;AAED,eAAaG,UAAb,CAAwBC,EAAxB,EAA4BC,IAA5B,EAAkC;AAC9B,UAAMf,KAAK,GAAG,KAAKH,aAAL,EAAd;;AAEA,QAAI,CAACG,KAAL,EAAY;AACR;AACH;;AAED,QAAI;AACA,YAAMK,IAAI,GAAG,MAAMC,KAAK,CAAE,8BAA6BS,IAAK,KAAID,EAAG,EAA3C,EAA8C;AAClEP,QAAAA,OAAO,EAAE;AACL,2BAAiB,YAAYP;AADxB;AADyD,OAA9C,CAAxB;AAKA,YAAMQ,OAAO,GAAG,MAAMH,IAAI,CAACI,IAAL,EAAtB;AACA,aAAOD,OAAP;AACH,KARD,CAQE,OAAOE,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH;AACJ;;AAED,eAAaM,cAAb,GAA8B;AAC1B,UAAMhB,KAAK,GAAG,KAAKH,aAAL,EAAd;;AAEA,QAAI,CAACG,KAAL,EAAY;AACR;AACH;;AAED,QAAI;AACA,YAAMK,IAAI,GAAG,MAAMC,KAAK,CAAE,+BAAF,EAAkC;AACtDC,QAAAA,OAAO,EAAE;AACL,2BAAiB,YAAYP;AADxB;AAD6C,OAAlC,CAAxB;AAKA,YAAMQ,OAAO,GAAG,MAAMH,IAAI,CAACI,IAAL,EAAtB;AACA,aAAOD,OAAP;AACH,KARD,CAQE,OAAOE,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH;AACJ;;AAtES;;AAyEd,eAAed,OAAf","sourcesContent":["class Spotify {\n\n    static retrieveToken() {\n        if (localStorage.getItem('access')) {\n            const {\n                token\n            } = JSON.parse(localStorage.getItem('access'));\n            return token ? token : false;\n        }\n        return false;\n    }\n\n    static async getSearchResults(query) {\n        const token = this.retrieveToken();\n\n        if (!token) {\n            return;\n        }\n\n        try {\n            const data = await fetch(`https://api.spotify.com/v1/search?q=${query}&type=show,episode&limit=10`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const results = await data.json();\n            return results;\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    static async getDetails(id, type) {\n        const token = this.retrieveToken();\n\n        if (!token) {\n            return;\n        }\n\n        try {\n            const data = await fetch(`https://api.spotify.com/v1/${type}s/${id}`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const results = await data.json();\n            return results;\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    static async getUserProfile() {\n        const token = this.retrieveToken();\n\n        if (!token) {\n            return;\n        }\n\n        try {\n            const data = await fetch(`https://api.spotify.com/v1/me`, {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            });\n            const results = await data.json();\n            return results;\n        } catch (err) {\n            console.error(err);\n        }\n    }\n}\n\nexport default Spotify;"]},"metadata":{},"sourceType":"module"}