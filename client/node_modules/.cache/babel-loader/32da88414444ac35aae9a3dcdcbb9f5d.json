{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kamil.muzyka/Desktop/podcastify/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kamil.muzyka/Desktop/podcastify/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kamil.muzyka/Desktop/podcastify/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/kamil.muzyka/Desktop/podcastify/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    top: 0;\\n    right: 2em;\\n\\n    @media (min-width: 500px) {\\n        top: 50%;\\n        transform: translateY(-50%);\\n    }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    width: 100%;\\n    padding: 1.5em 2em;\\n    background-color: \",\";\\n\\n    & > * {\\n        margin-top: 2em;\\n    }\\n\\n    & > *:first-child {\\n        margin-top: 0;\\n    }\\n\\n    @media (min-width: 500px) {\\n        flex-direction: row;\\n        align-items: center;\\n        justify-content: space-between;\\n        & > * {\\n            margin-top: 0;\\n        }\\n    }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import styled from'styled-components';import Profile from'./Profile/Profile';import Search from'./Search/Search';import MenuButton from'../../UI/MenuButton/MenuButton';import Spotify from'../../models/Spotify';import DefaultImage from'../../assets/img/profile.png';var Element=styled.header(_templateObject(),function(_ref){var theme=_ref.theme;return theme.colors.tertiary;});var StyledMenuButton=styled(MenuButton)(_templateObject2());function Header(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),profileURL=_useState2[0],profileUpdateURL=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),profileName=_useState4[0],profileUpdateName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),profileImage=_useState6[0],profileUpdateImage=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),imageLoading=_useState8[0],updateImageLoading=_useState8[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var profile;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Spotify.getUserProfile();case 3:profile=_context.sent;if(profile){_context.next=6;break;}return _context.abrupt(\"return\");case 6:profileUpdateURL(profile.external_urls.spotify);profileUpdateName(profile.display_name);profileUpdateImage(profile.images[0].url||DefaultImage);updateImageLoading(false);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);throw new Error(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}))();},[]);return/*#__PURE__*/React.createElement(Element,null,/*#__PURE__*/React.createElement(Profile,{external:profileURL,name:profileName,image:profileImage,loading:imageLoading.toString()}),/*#__PURE__*/React.createElement(Search,null),/*#__PURE__*/React.createElement(StyledMenuButton,null));}export default Header;","map":{"version":3,"sources":["/Users/kamil.muzyka/Desktop/podcastify/src/components/Header/Header.js"],"names":["React","useState","useEffect","styled","Profile","Search","MenuButton","Spotify","DefaultImage","Element","header","theme","colors","tertiary","StyledMenuButton","Header","props","profileURL","profileUpdateURL","profileName","profileUpdateName","profileImage","profileUpdateImage","imageLoading","updateImageLoading","getUserProfile","profile","external_urls","spotify","display_name","images","url","Error","toString"],"mappings":"y9CAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,gCAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CAEA,GAAMC,CAAAA,OAAO,CAAGN,MAAM,CAACO,MAAV,mBAMW,kBAAGC,CAAAA,KAAH,MAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaC,QAA5B,EANX,CAAb,CA0BA,GAAMC,CAAAA,gBAAgB,CAAGX,MAAM,CAACG,UAAD,CAAT,oBAAtB,CAUA,QAASS,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,eACoBf,QAAQ,CAAC,EAAD,CAD5B,wCACZgB,UADY,eACAC,gBADA,8BAEsBjB,QAAQ,CAAC,EAAD,CAF9B,yCAEZkB,WAFY,eAECC,iBAFD,8BAGwBnB,QAAQ,CAAC,EAAD,CAHhC,yCAGZoB,YAHY,eAGEC,kBAHF,8BAIwBrB,QAAQ,CAAC,IAAD,CAJhC,yCAIZsB,YAJY,eAIEC,kBAJF,eAMnBtB,SAAS,CAAC,UAAM,CACZ,wDAAC,qLAE6BK,CAAAA,OAAO,CAACkB,cAAR,EAF7B,QAEaC,OAFb,kBAGYA,OAHZ,iEAMOR,gBAAgB,CAACQ,OAAO,CAACC,aAAR,CAAsBC,OAAvB,CAAhB,CACAR,iBAAiB,CAACM,OAAO,CAACG,YAAT,CAAjB,CACAP,kBAAkB,CAACI,OAAO,CAACI,MAAR,CAAe,CAAf,EAAkBC,GAAlB,EAAyBvB,YAA1B,CAAlB,CACAgB,kBAAkB,CAAC,KAAD,CAAlB,CATP,sFAWa,IAAIQ,CAAAA,KAAJ,aAXb,sEAAD,KAcH,CAfQ,CAeN,EAfM,CAAT,CAiBA,mBACI,oBAAC,OAAD,mBACI,oBAAC,OAAD,EACI,QAAQ,CAAEf,UADd,CAEI,IAAI,CAAEE,WAFV,CAGI,KAAK,CAAEE,YAHX,CAII,OAAO,CAAEE,YAAY,CAACU,QAAb,EAJb,EADJ,cAMI,oBAAC,MAAD,MANJ,cAOI,oBAAC,gBAAD,MAPJ,CADJ,CAWH,CAED,cAAelB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect }  from 'react';\nimport styled from 'styled-components';\nimport Profile from './Profile/Profile';\nimport Search from './Search/Search';\nimport MenuButton from '../../UI/MenuButton/MenuButton';\nimport Spotify from '../../models/Spotify';\nimport DefaultImage from '../../assets/img/profile.png';\n\nconst Element = styled.header`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    padding: 1.5em 2em;\n    background-color: ${({ theme }) => theme.colors.tertiary};\n\n    & > * {\n        margin-top: 2em;\n    }\n\n    & > *:first-child {\n        margin-top: 0;\n    }\n\n    @media (min-width: 500px) {\n        flex-direction: row;\n        align-items: center;\n        justify-content: space-between;\n        & > * {\n            margin-top: 0;\n        }\n    }\n`;\n\nconst StyledMenuButton = styled(MenuButton)`\n    top: 0;\n    right: 2em;\n\n    @media (min-width: 500px) {\n        top: 50%;\n        transform: translateY(-50%);\n    }\n`;\n\nfunction Header(props) {\n    const [profileURL, profileUpdateURL] = useState('');\n    const [profileName, profileUpdateName] = useState('');\n    const [profileImage, profileUpdateImage] = useState('');\n    const [imageLoading, updateImageLoading] = useState(true);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const profile = await Spotify.getUserProfile();\n                if (!profile) {\n                    return;\n                }\n                profileUpdateURL(profile.external_urls.spotify);\n                profileUpdateName(profile.display_name);\n                profileUpdateImage(profile.images[0].url || DefaultImage);\n                updateImageLoading(false);\n            } catch(err) {\n                throw new Error(err);\n            }\n        })();\n    }, []);\n\n    return (\n        <Element>\n            <Profile\n                external={profileURL}\n                name={profileName}\n                image={profileImage}\n                loading={imageLoading.toString()}/>\n            <Search/>\n            <StyledMenuButton/>\n        </Element>\n    );\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}